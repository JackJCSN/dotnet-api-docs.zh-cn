<Type Name="SessionPageStatePersister" FullName="System.Web.UI.SessionPageStatePersister">
  <Metadata><Meta Name="ms.openlocfilehash" Value="e8429a9892ba0c3e3b87a6959e28d48805ae95af" /><Meta Name="ms.sourcegitcommit" Value="f1d16425528e237257ca3b58eb49217a514849ea" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="04/24/2019" /><Meta Name="ms.locfileid" Value="64061990" /></Metadata><TypeSignature Language="C#" Value="public class SessionPageStatePersister : System.Web.UI.PageStatePersister" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SessionPageStatePersister extends System.Web.UI.PageStatePersister" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.SessionPageStatePersister" />
  <TypeSignature Language="VB.NET" Value="Public Class SessionPageStatePersister&#xA;Inherits PageStatePersister" />
  <TypeSignature Language="C++ CLI" Value="public ref class SessionPageStatePersister : System::Web::UI::PageStatePersister" />
  <TypeSignature Language="F#" Value="type SessionPageStatePersister = class&#xA;    inherit PageStatePersister" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.PageStatePersister</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="82118-101">在 Web 服务器上存储 ASP.NET 页视图状态。</span><span class="sxs-lookup"><span data-stu-id="82118-101">Stores ASP.NET page view state on the Web server.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="82118-102">ASP.NET 页面可以存储<xref:System.Web.UI.Page>状态之间的本质上是无状态的 HTTP 请求和响应处理，并为任何 Web 页面提供服务所需的信息。</span><span class="sxs-lookup"><span data-stu-id="82118-102">ASP.NET pages can store <xref:System.Web.UI.Page> state information between the inherently stateless HTTP request and response required to process and serve any Web page.</span></span> <span data-ttu-id="82118-103">此状态称为"查看状态"。</span><span class="sxs-lookup"><span data-stu-id="82118-103">This state is called "view state."</span></span>  
  
 <span data-ttu-id="82118-104">默认 ASP.NET 持久性机制是使用客户端上存储视图状态<xref:System.Web.UI.HiddenFieldPageStatePersister>类。</span><span class="sxs-lookup"><span data-stu-id="82118-104">The default ASP.NET persistence mechanism is to store view state on the client using the <xref:System.Web.UI.HiddenFieldPageStatePersister> class.</span></span> <span data-ttu-id="82118-105">存储视图状态与每个 HTTP 请求和响应在常规中执行和数据是在大型 Web 场方案中很重要，因为它并不重要的 Web 服务器处理请求： 页面状态现已推出到服务器的当前上下文准确地呈现的页面。</span><span class="sxs-lookup"><span data-stu-id="82118-105">Storing view state and data with each HTTP request and response performs well in general and is important in large Web farm scenarios because it does not matter which Web server services the request: the page state is available in the current context for the server to accurately render the page.</span></span>  
  
 <span data-ttu-id="82118-106">在页面到小型设备的有限客户端的资源，或者使用不支持的隐藏的字段元素的标记语言提供服务的位置的情况下，它需要在服务器上存储视图状态。</span><span class="sxs-lookup"><span data-stu-id="82118-106">In scenarios where pages are served to small devices that have limited client-side resources or use a markup language that does not support a hidden field element, it is required to store view state on the server.</span></span> <span data-ttu-id="82118-107">几个 ASP.NET 设备页适配器重写`GetStatePersister`方法以返回<xref:System.Web.UI.SessionPageStatePersister>将页面状态存储在会话对象中的服务器的对象与客户端相关联。</span><span class="sxs-lookup"><span data-stu-id="82118-107">Several ASP.NET device page adapters override the `GetStatePersister` method to return a <xref:System.Web.UI.SessionPageStatePersister> object that stores page state on the server in the session object associated with the client.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="82118-108">下面的代码示例演示如何编写<xref:System.Web.UI.Adapters.PageAdapter>类以返回的实例<xref:System.Web.UI.SessionPageStatePersister>类而不是默认<xref:System.Web.UI.HiddenFieldPageStatePersister>类，以将视图状态保存到服务器端会话对象。</span><span class="sxs-lookup"><span data-stu-id="82118-108">The following code example demonstrates how you can write a <xref:System.Web.UI.Adapters.PageAdapter> class to return an instance of the <xref:System.Web.UI.SessionPageStatePersister> class instead of the default <xref:System.Web.UI.HiddenFieldPageStatePersister> class to save view state to the server-side session object.</span></span>  
  
 [!code-csharp[System.Web.UI.SessionPageStatePersister_1#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.UI.SessionPageStatePersister_1/CS/mypageadapter2.cs#1)]
 [!code-vb[System.Web.UI.SessionPageStatePersister_1#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.UI.SessionPageStatePersister_1/VB/mypageadapter2.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.UI.PageStatePersister" />
    <altmember cref="T:System.Web.UI.HiddenFieldPageStatePersister" />
    <altmember cref="T:System.Web.UI.Adapters.PageAdapter" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SessionPageStatePersister (System.Web.UI.Page page);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Web.UI.Page page) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.SessionPageStatePersister.#ctor(System.Web.UI.Page)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SessionPageStatePersister(System::Web::UI::Page ^ page);" />
      <MemberSignature Language="F#" Value="new System.Web.UI.SessionPageStatePersister : System.Web.UI.Page -&gt; System.Web.UI.SessionPageStatePersister" Usage="new System.Web.UI.SessionPageStatePersister page" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="page" Type="System.Web.UI.Page" />
      </Parameters>
      <Docs>
        <param name="page"><span data-ttu-id="82118-109">为其创建视图状态持久性机制的 <see cref="T:System.Web.UI.Page" />。</span><span class="sxs-lookup"><span data-stu-id="82118-109">The <see cref="T:System.Web.UI.Page" /> that the view state persistence mechanism is created for.</span></span></param>
        <summary><span data-ttu-id="82118-110">初始化 <see cref="T:System.Web.UI.SessionPageStatePersister" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="82118-110">Initializes a new instance of the <see cref="T:System.Web.UI.SessionPageStatePersister" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="82118-111">下面的代码示例演示如何编写<xref:System.Web.UI.Adapters.PageAdapter>类以返回的实例<xref:System.Web.UI.SessionPageStatePersister>类，以将视图状态保存到服务器端会话对象。</span><span class="sxs-lookup"><span data-stu-id="82118-111">The following code example demonstrates how you can write a <xref:System.Web.UI.Adapters.PageAdapter> class to return an instance of the <xref:System.Web.UI.SessionPageStatePersister> class to save view state to the server-side session object.</span></span>  
  
 [!code-csharp[System.Web.UI.SessionPageStatePersister_1#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.UI.SessionPageStatePersister_1/CS/mypageadapter2.cs#1)]
 [!code-vb[System.Web.UI.SessionPageStatePersister_1#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.UI.SessionPageStatePersister_1/VB/mypageadapter2.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="82118-112"><see cref="T:System.Web.SessionState.HttpSessionState" /> 为空引用（在 Visual Basic 中为 <see langword="Nothing" />）。</span><span class="sxs-lookup"><span data-stu-id="82118-112">The <see cref="T:System.Web.SessionState.HttpSessionState" /> is null (<see langword="Nothing" /> in Visual Basic)</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Load">
      <MemberSignature Language="C#" Value="public override void Load ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Load() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.SessionPageStatePersister.Load" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Load ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Load();" />
      <MemberSignature Language="F#" Value="override this.Load : unit -&gt; unit" Usage="sessionPageStatePersister.Load " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="82118-113">在 <see cref="T:System.Web.UI.Page" /> 对象对其控件层次结构进行初始化时，对服务器端会话对象中保存的状态进行反序列化并加载该状态。</span><span class="sxs-lookup"><span data-stu-id="82118-113">Deserializes and loads persisted state from the server-side session object when a <see cref="T:System.Web.UI.Page" /> object initializes its control hierarchy.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="82118-114"><xref:System.Web.UI.SessionPageStatePersister>类实现<xref:System.Web.UI.SessionPageStatePersister.Load%2A>方法以加载页面状态从<xref:System.Web.SessionState.HttpSessionState>与客户端关联的对象。</span><span class="sxs-lookup"><span data-stu-id="82118-114">The <xref:System.Web.UI.SessionPageStatePersister> class implements the <xref:System.Web.UI.SessionPageStatePersister.Load%2A> method to load page state from the <xref:System.Web.SessionState.HttpSessionState> object associated with the client.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="82118-115"><see cref="M:System.Web.UI.SessionPageStatePersister.Load" /> 方法未能成功对向 Web 服务器发送的请求中包含的状态进行反序列化。</span><span class="sxs-lookup"><span data-stu-id="82118-115">The <see cref="M:System.Web.UI.SessionPageStatePersister.Load" /> method could not successfully deserialize the state contained in the request to the Web server.</span></span></exception>
        <altmember cref="M:System.Web.UI.SessionPageStatePersister.Save" />
      </Docs>
    </Member>
    <Member MemberName="Save">
      <MemberSignature Language="C#" Value="public override void Save ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Save() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.SessionPageStatePersister.Save" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Save ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Save();" />
      <MemberSignature Language="F#" Value="override this.Save : unit -&gt; unit" Usage="sessionPageStatePersister.Save " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="82118-116">对 <see cref="P:System.Web.UI.PageStatePersister.ViewState" /> 或 <see cref="P:System.Web.UI.PageStatePersister.ControlState" /> 属性中包含的任何对象状态进行序列化，并将该状态写入会话对象。</span><span class="sxs-lookup"><span data-stu-id="82118-116">Serializes any object state contained in the <see cref="P:System.Web.UI.PageStatePersister.ViewState" /> or the <see cref="P:System.Web.UI.PageStatePersister.ControlState" /> property and writes the state to the session object.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="82118-117"><xref:System.Web.UI.SessionPageStatePersister>类实现<xref:System.Web.UI.HiddenFieldPageStatePersister.Save%2A>方法以持久保存页面状态中的<xref:System.Web.SessionState.HttpSessionState>与客户端关联的对象。</span><span class="sxs-lookup"><span data-stu-id="82118-117">The <xref:System.Web.UI.SessionPageStatePersister> class implements the <xref:System.Web.UI.HiddenFieldPageStatePersister.Save%2A> method to persist page state in the <xref:System.Web.SessionState.HttpSessionState> object associated with the client.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.Web.UI.SessionPageStatePersister.Load" />
      </Docs>
    </Member>
  </Members>
</Type>